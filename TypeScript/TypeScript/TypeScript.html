<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初探 TypeScript | Cyy&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="我的博客">
    
    <link rel="preload" href="/assets/css/0.styles.f3d49e5c.css" as="style"><link rel="preload" href="/assets/js/app.af7ffc51.js" as="script"><link rel="preload" href="/assets/js/2.d1a5c91e.js" as="script"><link rel="preload" href="/assets/js/1.8e8fa9b9.js" as="script"><link rel="preload" href="/assets/js/84.a17a66cd.js" as="script"><link rel="prefetch" href="/assets/js/10.fc8ce149.js"><link rel="prefetch" href="/assets/js/11.12f2f6ed.js"><link rel="prefetch" href="/assets/js/12.030ed1f1.js"><link rel="prefetch" href="/assets/js/13.0dcc940a.js"><link rel="prefetch" href="/assets/js/14.a219b5b9.js"><link rel="prefetch" href="/assets/js/15.552b7e3f.js"><link rel="prefetch" href="/assets/js/16.8a79d68c.js"><link rel="prefetch" href="/assets/js/17.03d26256.js"><link rel="prefetch" href="/assets/js/18.96b348ec.js"><link rel="prefetch" href="/assets/js/19.a87f1095.js"><link rel="prefetch" href="/assets/js/20.059813bd.js"><link rel="prefetch" href="/assets/js/21.78e06c9a.js"><link rel="prefetch" href="/assets/js/22.6c408340.js"><link rel="prefetch" href="/assets/js/23.113c6709.js"><link rel="prefetch" href="/assets/js/24.fa651541.js"><link rel="prefetch" href="/assets/js/25.4b3a8146.js"><link rel="prefetch" href="/assets/js/26.0755b97a.js"><link rel="prefetch" href="/assets/js/27.fea4d251.js"><link rel="prefetch" href="/assets/js/28.9ef8faa1.js"><link rel="prefetch" href="/assets/js/29.3d65f365.js"><link rel="prefetch" href="/assets/js/3.634769dd.js"><link rel="prefetch" href="/assets/js/30.3671bda7.js"><link rel="prefetch" href="/assets/js/31.bdd25f10.js"><link rel="prefetch" href="/assets/js/32.d6867bf2.js"><link rel="prefetch" href="/assets/js/33.28d5d6a3.js"><link rel="prefetch" href="/assets/js/34.4448dff5.js"><link rel="prefetch" href="/assets/js/35.dabbecf7.js"><link rel="prefetch" href="/assets/js/36.6a9c6f0f.js"><link rel="prefetch" href="/assets/js/37.02cdea05.js"><link rel="prefetch" href="/assets/js/38.73f5b560.js"><link rel="prefetch" href="/assets/js/39.68da997f.js"><link rel="prefetch" href="/assets/js/4.e7e80bab.js"><link rel="prefetch" href="/assets/js/40.e7e7dfb3.js"><link rel="prefetch" href="/assets/js/41.8b925a3c.js"><link rel="prefetch" href="/assets/js/42.df73ea87.js"><link rel="prefetch" href="/assets/js/43.e0d2bd59.js"><link rel="prefetch" href="/assets/js/44.6691785a.js"><link rel="prefetch" href="/assets/js/45.eb696a43.js"><link rel="prefetch" href="/assets/js/46.d3eca6a2.js"><link rel="prefetch" href="/assets/js/47.98a8aba0.js"><link rel="prefetch" href="/assets/js/48.6a10d206.js"><link rel="prefetch" href="/assets/js/49.54c8c3b8.js"><link rel="prefetch" href="/assets/js/5.1d5ae844.js"><link rel="prefetch" href="/assets/js/50.bd72c1ad.js"><link rel="prefetch" href="/assets/js/51.a1d48655.js"><link rel="prefetch" href="/assets/js/52.03b1f666.js"><link rel="prefetch" href="/assets/js/53.b120d4a1.js"><link rel="prefetch" href="/assets/js/54.5717b546.js"><link rel="prefetch" href="/assets/js/55.6db45fa6.js"><link rel="prefetch" href="/assets/js/56.fab0e7f4.js"><link rel="prefetch" href="/assets/js/57.d4f35802.js"><link rel="prefetch" href="/assets/js/58.fa4f0e6a.js"><link rel="prefetch" href="/assets/js/59.2be4120a.js"><link rel="prefetch" href="/assets/js/6.29f3ac19.js"><link rel="prefetch" href="/assets/js/60.35982e0a.js"><link rel="prefetch" href="/assets/js/61.913f7316.js"><link rel="prefetch" href="/assets/js/62.ae031adb.js"><link rel="prefetch" href="/assets/js/63.f5d235b8.js"><link rel="prefetch" href="/assets/js/64.5e073790.js"><link rel="prefetch" href="/assets/js/65.56a7400b.js"><link rel="prefetch" href="/assets/js/66.14e97e19.js"><link rel="prefetch" href="/assets/js/67.a03d63db.js"><link rel="prefetch" href="/assets/js/68.c515c20f.js"><link rel="prefetch" href="/assets/js/69.14d92b83.js"><link rel="prefetch" href="/assets/js/7.d9e1b9b6.js"><link rel="prefetch" href="/assets/js/70.4f3d78c1.js"><link rel="prefetch" href="/assets/js/71.6de3fdbb.js"><link rel="prefetch" href="/assets/js/72.6c50a271.js"><link rel="prefetch" href="/assets/js/73.6fdc49ca.js"><link rel="prefetch" href="/assets/js/74.aeb43127.js"><link rel="prefetch" href="/assets/js/75.59d70f1a.js"><link rel="prefetch" href="/assets/js/76.1dd1befc.js"><link rel="prefetch" href="/assets/js/77.fba7bae0.js"><link rel="prefetch" href="/assets/js/78.36ab1cc9.js"><link rel="prefetch" href="/assets/js/79.c28e37a2.js"><link rel="prefetch" href="/assets/js/80.2de7dfbf.js"><link rel="prefetch" href="/assets/js/81.250ac215.js"><link rel="prefetch" href="/assets/js/82.04d32fc0.js"><link rel="prefetch" href="/assets/js/83.2ab02d19.js"><link rel="prefetch" href="/assets/js/85.a48bd068.js"><link rel="prefetch" href="/assets/js/86.cdb6a513.js"><link rel="prefetch" href="/assets/js/87.d0a5fb29.js"><link rel="prefetch" href="/assets/js/88.31c58de8.js"><link rel="prefetch" href="/assets/js/89.1ac68fc0.js"><link rel="prefetch" href="/assets/js/90.a8d280cb.js"><link rel="prefetch" href="/assets/js/91.0e3c4e3d.js"><link rel="prefetch" href="/assets/js/92.42df38be.js"><link rel="prefetch" href="/assets/js/93.9de0dfe2.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e9ca0b7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f3d49e5c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="Cyy's blog" class="logo"> <span class="site-name can-hide">Cyy's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/NodeJs/" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/Browser/" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/TypeScript/" class="nav-link router-link-active">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Computer-base" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Computer-base" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NetWork/" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project-building" class="dropdown-title"><span class="title">项目构建</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project-building" class="mobile-dropdown-title"><span class="title">项目构建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/Git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LeetCode" class="dropdown-title"><span class="title">LeetCode</span> <span class="arrow down"></span></button> <button type="button" aria-label="LeetCode" class="mobile-dropdown-title"><span class="title">LeetCode</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/LeetCode/" class="nav-link">
  LeetCode
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Chenyuanyuan299" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frontend" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frontend" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/NodeJs/" class="nav-link">
  NodeJs
</a></li><li class="dropdown-item"><!----> <a href="/Browser/" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/TypeScript/" class="nav-link router-link-active">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Computer-base" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Computer-base" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NetWork/" class="nav-link">
  计算机网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project-building" class="dropdown-title"><span class="title">项目构建</span> <span class="arrow down"></span></button> <button type="button" aria-label="Project-building" class="mobile-dropdown-title"><span class="title">项目构建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/Git/" class="nav-link">
  Git
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LeetCode" class="dropdown-title"><span class="title">LeetCode</span> <span class="arrow down"></span></button> <button type="button" aria-label="LeetCode" class="mobile-dropdown-title"><span class="title">LeetCode</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/LeetCode/" class="nav-link">
  LeetCode
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Chenyuanyuan299" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>TypeScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TypeScript/TypeScript/TypeScript.html" aria-current="page" class="active sidebar-link">初探 TypeScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#相对于-javascript-的好处" class="sidebar-link">相对于 JavaScript 的好处</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#安装-typescript-及相关" class="sidebar-link">安装 TypeScript 及相关</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#进一步理解静态类型" class="sidebar-link">进一步理解静态类型</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#基础类型和引用类型" class="sidebar-link">基础类型和引用类型</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#类型注解和类型推断" class="sidebar-link">类型注解和类型推断</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#函数类型相关" class="sidebar-link">函数类型相关</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#数组和元组" class="sidebar-link">数组和元组</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#interface-接口" class="sidebar-link">interface 接口</a></li><li class="sidebar-sub-header"><a href="/TypeScript/TypeScript/TypeScript.html#类" class="sidebar-link">类</a></li></ul></li><li><a href="/TypeScript/TypeScript/TypeScriptDeep.html" class="sidebar-link">TypeScript 语法进阶</a></li><li><a href="/TypeScript/TypeScript/TypeScriptProgress.html" class="sidebar-link">TypeScript 高级语法</a></li><li><a href="/TypeScript/TypeScript/type-annotation.html" class="sidebar-link">初探类型注解文件 .d.ts</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript+Express爬虫项目</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="初探-typescript"><a href="#初探-typescript" class="header-anchor">#</a> 初探 TypeScript</h1> <p>TypeScript 是 JavaScript 的超集，引入了类型机制，对面向对象和静态类型有更好的支持。TypeScript 不会被直接执行，而是先编译成 JavaScript再运行。</p> <p>静态类型的意思是当给一个变量赋值一种类型的数据后，不能再给它赋值另一种类型。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 动态类型</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">'123'</span><span class="token comment">// 可以</span>
<span class="token comment">//静态类型</span>
<span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">'123'</span><span class="token comment">// 报错</span>
</code></pre></div><h2 id="相对于-javascript-的好处"><a href="#相对于-javascript-的好处" class="header-anchor">#</a> 相对于 JavaScript 的好处</h2> <ol><li><p>有更好的错误提示，可以发现潜在问题</p></li> <li><p>更友好的语法提示</p></li> <li><p>类型定义可以使代码语义更清晰，可读性更强</p></li></ol> <h2 id="安装-typescript-及相关"><a href="#安装-typescript-及相关" class="header-anchor">#</a> 安装 TypeScript 及相关</h2> <p>在命令行中使用该命令安装：<code>npm install typescript -g</code></p> <p>这时候就可以将 TS 的代码编译成 JS <code>tsc xxx.ts</code>，然后再用 <code>node xxx.js</code> 运行。</p> <p>也可以安装 <code>ts-node</code>：<code>npm install ts-node -g</code>，这时候就可以直接用 <code>ts-node xxx.ts</code> 运行 .ts 文件了。</p> <h2 id="进一步理解静态类型"><a href="#进一步理解静态类型" class="header-anchor">#</a> 进一步理解静态类型</h2> <ol><li><p>对一个变量设置类型之后，该变量可以使用这个类型的所有方法。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> n<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 等方法</span>
</code></pre></div></li> <li><p>对变量设置一个自定义类型时，该变量可以使用这个自定义类型的所有属性和方法。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> 
	x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> point<span class="token operator">:</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
point<span class="token punctuation">.</span>x <span class="token comment">// 等等</span>
</code></pre></div></li></ol> <h2 id="基础类型和引用类型"><a href="#基础类型和引用类型" class="header-anchor">#</a> 基础类型和引用类型</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 基础类型</span>
<span class="token keyword">const</span> n<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>	<span class="token comment">// number类型</span>
<span class="token keyword">const</span> n<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span>	<span class="token comment">// string类型</span>
<span class="token comment">// 类似还有null、undefined、symbol、boolean、void（空）、bigint（ES2020之后支持）</span>

<span class="token comment">// 引用类型</span>
<span class="token keyword">const</span> teacher<span class="token operator">:</span> <span class="token punctuation">{</span> 
	name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> 
	name<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// object类型</span>
<span class="token keyword">const</span> numbers<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// array类型（number型数组）</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> Wang<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Person型对象</span>
<span class="token keyword">const</span> <span class="token function-variable function">getTotal</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// function类型，返回值是number类型</span>
cosnt date<span class="token operator">:</span> Date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Date类型</span>
</code></pre></div><h2 id="类型注解和类型推断"><a href="#类型注解和类型推断" class="header-anchor">#</a> 类型注解和类型推断</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// type annotation 类型注解</span>
<span class="token keyword">let</span> count1<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 显示声明类型为类型注解</span>
count1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>

<span class="token comment">// type inference 类型推断</span>
<span class="token keyword">let</span> count2 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// TS会自动尝试推断出count2的类型</span>

<span class="token comment">// 例子</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// 此时无需对c进行类型注解,因为TS会自动推断</span>
<span class="token keyword">function</span> <span class="token function">getTotal</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// 此时的a和b的类型为any </span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// TS推断不出c的类型，需要类型注解</span>

<span class="token comment">// 注意！</span>
<span class="token keyword">let</span> count<span class="token punctuation">;</span>
count <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// 此时count类型为any，所以分行写必须写上类型注解</span>

<span class="token comment">// other case</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> rawDate <span class="token operator">=</span> <span class="token string">'{&quot;name&quot;: &quot;Wang&quot;}'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newDate<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>rawDate<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 此时需要给newDate加上类型注解，否则newDate为any类型</span>
</code></pre></div><p>写 TS 就是要让每个变量或者属性的类型是固定的。</p> <h2 id="函数类型相关"><a href="#函数类型相关" class="header-anchor">#</a> 函数类型相关</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span> 
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token comment">// 尽量对返回值设置类型注解，方便查错</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sum的类型跟add返回值相关</span>

<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span> <span class="token comment">// 返回值为空 </span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">errorEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 这个函数永远不会执行完毕</span>

<span class="token comment">// 函数参数解构赋值</span>
<span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> first<span class="token punctuation">,</span> second <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> first<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span> <span class="token comment">// 解构语法类型注解必须写在花括号里，不管有几个参数</span>
	<span class="token keyword">return</span> first <span class="token operator">+</span> second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>first<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>函数的两种写法</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">func2</span><span class="token operator">:</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="数组和元组"><a href="#数组和元组" class="header-anchor">#</a> 数组和元组</h2> <p>数组类型注解的写法：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> numbers<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// 数值或字符串类型类型array</span>

<span class="token keyword">const</span> objectArr<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Chen'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token comment">// 对象类型数组，且每一项必须只包含name属性</span>
</code></pre></div><p>类型别名 type alias，相当于对对象的属性做了一层封装：</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// type alias 类型别名 改写上例</span>
<span class="token keyword">type</span> <span class="token class-name">User</span> <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> objectArr<span class="token operator">:</span> User<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">...</span>
</code></pre></div><p>如果声明了一个类，并把该类型赋值给一个数组，那么只要数组中每一项的属性符合该类的定义，TS不会要求该数组中每一项都是这个类创造出来的实例。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span> 
	name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
 	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> objArray<span class="token operator">:</span> Teacher<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token comment">// Teacher类声明的对象类型数组，数组里的对象并不是Teacher的实例</span>
</code></pre></div><p>元组 tuple，用于对数组中每一项进行进一步类型规范，一般用于处理csv之类的文件。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 这是一个元组</span>
<span class="token keyword">const</span> teacherInfo<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Wang'</span><span class="token punctuation">,</span> <span class="token string">'Laoshi'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="interface-接口"><a href="#interface-接口" class="header-anchor">#</a> interface 接口</h2> <p>接口其实是开发过程中 TS 做语法提示的工具，真正编译成 JS 代码之后不会再有接口和类型。</p> <p>接口有点类似于上文讲到的类型别名 type，接口一般用于定义对象、函数或者类，不能用于定义基础类型，而类型别名可以定义基础类型，比如 <code>type Person = string</code>，类型别名一般用于定义基础类型，联合类型，元组等，一个重要区别是类型别名不能被 extends 和 implements（自己也不行）。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 接口相关知识</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token comment">// readonly name: string; // 只读，setPersonName失效</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
	age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// 加上问号表示定义对象时可有可无</span>
	<span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span> <span class="token comment">// 允许对象创建随机属性</span>
    <span class="token comment">// say(): string; // 接口中也可以设置方法</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token comment">// 接口可以继承</span>
	<span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// Teacher可以定义新的方法</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token comment">// 类可以应用接口，类中属性必须满足接口定义</span>
	name <span class="token operator">=</span> <span class="token string">'Wang'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> getPersonName <span class="token operator">=</span> <span class="token punctuation">(</span>person<span class="token operator">:</span> Person<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// setPersonName传入一个Teacher类型变量，需要同时满足Person和Teacher接口的定义，因为Teacher继承于Person</span>
<span class="token keyword">const</span> setPersonName <span class="token operator">=</span> <span class="token punctuation">(</span>person<span class="token operator">:</span> Teacher<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token comment">// console.log(person.name);</span>
<span class="token punctuation">}</span> 
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> 
	name<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token comment">// 可省略</span>
	sale<span class="token operator">:</span> <span class="token string">'female'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">getPersonName</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// 弱校验，符合接口的要求，接口中如果不定义sale，sale属性同样被允许</span>
<span class="token function">getPersonName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span>
	sale<span class="token operator">:</span> <span class="token string">'female'</span> <span class="token comment">// 符合接口规范第三条</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 字面量直接赋值，属于强校验，必须完全符合接口的定义</span>

<span class="token function">setPersonName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'Wang'</span><span class="token punctuation">,</span> <span class="token comment">// 原来的姓名</span>
	<span class="token function">teach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
		<span class="token keyword">return</span> <span class="token string">'teach'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'Laoshi'</span><span class="token punctuation">)</span> <span class="token comment">// 要修改的姓名</span>
</code></pre></div><p>接口也可以定义函数（类型别名也可以）</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">SayHi</span> <span class="token punctuation">{</span> 
	<span class="token punctuation">(</span>word<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> say<span class="token operator">:</span> <span class="token function-variable function">SayHi</span> <span class="token operator">=</span> <span class="token punctuation">(</span>word<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> word<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="类"><a href="#类" class="header-anchor">#</a> 类</h2> <h3 id="类的定义与继承"><a href="#类的定义与继承" class="header-anchor">#</a> 类的定义与继承</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	name <span class="token operator">=</span> <span class="token string">'Wang'</span><span class="token punctuation">;</span>
	<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token function">getTeacherName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'Laoshi'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment">// return 'Laoshi'; // 子类可以重写从父类继承的方法</span>
		<span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'Laoshi'</span> <span class="token comment">// 子类在重写之后可以使用super调用父类的方法</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span><span class="token function">getTeacherName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以对类的属性设置 readonly，此时该属性只能读不能改</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
	<span class="token keyword">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Wang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'123'</span><span class="token punctuation">;</span> <span class="token comment">// 会报错</span>
</code></pre></div><h3 id="访问类型-private-protected-public"><a href="#访问类型-private-protected-public" class="header-anchor">#</a> 访问类型 private, protected, public</h3> <ol><li>public 允许在类的内外被调用</li> <li>private 允许在类内被调用</li> <li>protected 允许在类内及继承于该类的子类中调用</li></ol> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token keyword">protected</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
	<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 默认为public</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// name可以被访问</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Bye'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hi, '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 访问不到</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Wang'</span><span class="token punctuation">;</span> <span class="token comment">// name访问不到</span>
person<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
teacher<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Hi, undefined，因为name访问不到</span>
</code></pre></div><h3 id="constructor"><a href="#constructor" class="header-anchor">#</a> constructor</h3> <p>可以用于给类的属性进行初始化</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token comment">// 传统写法</span>
	<span class="token comment">// public name: string;</span>
	<span class="token comment">// constructor(name: string) { </span>
	<span class="token comment">// 	this.name = name;</span>
	<span class="token comment">// }</span>
    
	<span class="token comment">// 简化写法</span>
	<span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// new 之后自动执行，比传统写法简洁 </span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Wang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 类的继承</span>
<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	<span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">'Wang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 子类在定义自己的构造器时需要先调用父类的构造器并传参</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Wang</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
</code></pre></div><h3 id="getter-和-setter"><a href="#getter-和-setter" class="header-anchor">#</a> getter 和 setter</h3> <p>如果类不想把属性直接对外暴露而是先经过加工或者加密后再暴露，这时候就需要用到 getter 和 setter。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> 
	<span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> _name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 一般会进行加密封装等操作</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">+</span> <span class="token string">' Laoshi'</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> realName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Wang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(person._name); // 不被允许</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 间接获取类中私有，name是一个方法</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Chen'</span> <span class="token comment">// 间接修改类中私有属性</span>
</code></pre></div><h3 id="单例模式-singleton"><a href="#单例模式-singleton" class="header-anchor">#</a> 单例模式（Singleton）</h3> <p>需要先了解静态属性：static 静态属性直接挂在类上，而不是类的实例上，所以可以直接跳过实例访问。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> instance<span class="token operator">:</span> Demo<span class="token punctuation">;</span> <span class="token comment">// 用于存储getInstance中new的Demo</span>
	<span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 外部无法 new</span>
	<span class="token class-name"><span class="token keyword">static</span></span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 该方法直接挂在类上面而不是实例上面</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
			<span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token string">'Wang'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> demo1 <span class="token operator">=</span> Demo<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> demo2 <span class="token operator">=</span> Demo<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo1 <span class="token operator">===</span> demo2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
</code></pre></div><h3 id="抽象类"><a href="#抽象类" class="header-anchor">#</a> 抽象类</h3> <p>抽象类只能被继承，主要用于抽离类中公共抽象的东西，抽象类不可以被实例化。抽象类有点类似接口，抽离出公共部分的东西。</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Geom</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'Gemo'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">abstract</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Geom</span> <span class="token punctuation">{</span> 
	<span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 继承抽象类后必须对抽象方法进行重写</span>
		<span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Geom</span> <span class="token punctuation">{</span>
    <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">456</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/22/2024, 6:23:50 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/TypeScript/TypeScript/TypeScriptDeep.html">
        TypeScript 语法进阶
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.af7ffc51.js" defer></script><script src="/assets/js/2.d1a5c91e.js" defer></script><script src="/assets/js/1.8e8fa9b9.js" defer></script><script src="/assets/js/84.a17a66cd.js" defer></script>
  </body>
</html>
